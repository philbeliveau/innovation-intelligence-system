# Innovation Pipeline Web App - Hackathon Architecture

## Table of Contents

- [Innovation Pipeline Web App - Hackathon Architecture](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [1. Introduction](./1-introduction.md)
    - [Purpose](./1-introduction.md#purpose)
    - [Core Philosophy](./1-introduction.md#core-philosophy)
    - [Key Constraints](./1-introduction.md#key-constraints)
  - [2. Architecture Overview](./2-architecture-overview.md)
    - [System Diagram](./2-architecture-overview.md#system-diagram)
    - [Architecture Principles](./2-architecture-overview.md#architecture-principles)
    - [Data Flow Architecture](./2-architecture-overview.md#data-flow-architecture)
  - [3. Tech Stack](./3-tech-stack.md)
    - [Complete Technology Matrix](./3-tech-stack.md#complete-technology-matrix)
    - [Why This Stack?](./3-tech-stack.md#why-this-stack)
    - [Database Architecture Decision](./3-tech-stack.md#database-architecture-decision)
  - [3.1 Project Directory Structure](./31-project-directory-structure.md)
  - [‚ö†Ô∏è CRITICAL: Clerk UUID Fix](./CRITICAL-clerk-uuid-fix.md) üö® **READ FIRST**
  - [3.5 Prisma & Database Architecture](./3.5-prisma-database-architecture.md) ‚≠ê **NEW**
    - [Prisma Schema Location](./3.5-prisma-database-architecture.md#351-prisma-schema-location)
    - [Prisma Client Singleton Pattern](./3.5-prisma-database-architecture.md#352-prisma-client-singleton-pattern)
    - [Database Schema (5 Models)](./3.5-prisma-database-architecture.md#353-database-schema-5-models)
    - [Type Safety Benefits](./3.5-prisma-database-architecture.md#354-type-safety-benefits)
    - [Database Indexing Strategy](./3.5-prisma-database-architecture.md#355-database-indexing-strategy)
    - [Query Optimization Patterns](./3.5-prisma-database-architecture.md#356-query-optimization-patterns)
    - [Connection Pool Monitoring](./3.5-prisma-database-architecture.md#357-connection-pool-monitoring)
    - [Error Handling Patterns](./3.5-prisma-database-architecture.md#358-error-handling-patterns)
    - [Security Architecture](./3.5-prisma-database-architecture.md#359-security-architecture)
    - [Migration Workflow](./3.5-prisma-database-architecture.md#3510-migration-workflow)
    - [Testing Strategy](./3.5-prisma-database-architecture.md#3511-testing-strategy)
  - [4. User Journey](./4-user-journey.md)
    - [Flow Diagram](./4-user-journey.md#flow-diagram)
    - [Detailed Steps](./4-user-journey.md#detailed-steps)
      - [Step 0: Onboarding/Landing - Company Selection via Visual Interface (30 seconds, Team-Led)](./4-user-journey.md#step-0-onboardinglanding-company-selection-via-visual-interface-30-seconds-team-led)
      - [Step 1: Homepage - Upload Only (1-2 minutes)](./4-user-journey.md#step-1-homepage-upload-only-1-2-minutes)
      - [Step 2: Intermediary Card - Document Analysis (30-60 seconds)](./4-user-journey.md#step-2-intermediary-card-document-analysis-30-60-seconds)
      - [Step 3: Pipeline Execution (15-30 minutes)](./4-user-journey.md#step-3-pipeline-execution-15-30-minutes)
      - [Step 3: Results Display (2-3 minutes)](./4-user-journey.md#step-3-results-display-2-3-minutes)
  - [5. UI Specifications](./5-ui-specifications.md)
    - [5.0 Onboarding/Landing Page - Company Selection](./5-ui-specifications.md#50-onboardinglanding-page-company-selection)
    - [5.1 Homepage Design](./5-ui-specifications.md#51-homepage-design)
    - [5.2 Left Sidebar - Collapsible Home Menu](./5-ui-specifications.md#52-left-sidebar-collapsible-home-menu)
    - [5.3 Intermediary Card - Document Analysis Page with Track Division](./5-ui-specifications.md#53-intermediary-card-document-analysis-page-with-track-division)
    - [5.4 Pipeline Viewer - Vertical Flow Layout](./5-ui-specifications.md#54-pipeline-viewer-vertical-flow-layout)
    - [5.5 Pipeline Viewer - Stages 2-5 (Vertical Progress)](./5-ui-specifications.md#55-pipeline-viewer-stages-2-5-vertical-progress)
    - [5.6 Results Page](./5-ui-specifications.md#56-results-page)
  - [6. API Design](./6-api-design.md)
    - [6.1 Endpoints](./6-api-design.md#61-endpoints)
  - [6.2 Prisma-Powered API Routes](./6.2-prisma-api-routes.md) ‚≠ê **NEW**
    - [GET /api/runs - List User Runs](./6.2-prisma-api-routes.md#621-get-apiruns-list-user-runs)
    - [GET /api/runs/[runId] - Get Run Details](./6.2-prisma-api-routes.md#622-get-apirunsrunid-get-run-details)
    - [POST /api/runs - Create New Run](./6.2-prisma-api-routes.md#623-post-apiruns-create-new-run)
    - [POST /api/runs/[runId]/rerun - Rerun Pipeline](./6.2-prisma-api-routes.md#624-post-apirunsrunidrerun-rerun-pipeline)
    - [DELETE /api/runs/[runId] - Delete Run](./6.2-prisma-api-routes.md#625-delete-apirunsrunid-delete-run)
    - [POST /api/cards/[cardId]/star - Toggle Favorite](./6.2-prisma-api-routes.md#626-post-apicardscard idstar-toggle-favorite)
    - [Error Handling Patterns](./6.2-prisma-api-routes.md#627-error-handling-patterns)
    - [Type Safety Examples](./6.2-prisma-api-routes.md#628-type-safety-examples)
  - [7. Pipeline Integration](./7-pipeline-integration.md)
    - [7.1 Python Pipeline Modifications](./7-pipeline-integration.md#71-python-pipeline-modifications)
    - [7.2 Stage Output Formats](./7-pipeline-integration.md#72-stage-output-formats)
  - [7.2 asyncpg Database Service (Railway Backend)](./7.2-asyncpg-database-service.md) ‚≠ê **NEW**
    - [Database Service Architecture](./7.2-asyncpg-database-service.md#721-database-service-architecture)
    - [Run Status Management](./7.2-asyncpg-database-service.md#722-run-status-management)
    - [Stage Output Storage](./7.2-asyncpg-database-service.md#723-stage-output-storage)
    - [Inspiration Report Creation](./7.2-asyncpg-database-service.md#724-inspiration-report-creation)
    - [Opportunity Card Creation](./7.2-asyncpg-database-service.md#725-opportunity-card-creation)
    - [Pipeline Execution Integration](./7.2-asyncpg-database-service.md#726-pipeline-execution-integration)
    - [Error Handling & Retry Logic](./7.2-asyncpg-database-service.md#727-error-handling-retry-logic)
    - [Performance Optimization](./7.2-asyncpg-database-service.md#728-performance-optimization)
  - [8. Deployment](./8-deployment.md)
    - [8.1 Frontend Deployment (Vercel)](./8-deployment.md#81-frontend-deployment-vercel)
    - [8.2 Backend Deployment (Railway)](./8-deployment.md#82-backend-deployment-railway)
    - [8.3 Python Dependencies](./8-deployment.md#83-python-dependencies-backend)
    - [8.4 Node.js Dependencies](./8-deployment.md#84-nodejs-dependencies-frontend)
    - [8.5 Deployment Workflow](./8-deployment.md#85-deployment-workflow)
  - [8.3 Railway PostgreSQL Deployment](./8.3-railway-postgresql-deployment.md) ‚≠ê **NEW**
    - [Railway PostgreSQL Setup](./8.3-railway-postgresql-deployment.md#831-railway-postgresql-setup)
    - [Connection String Configuration](./8.3-railway-postgresql-deployment.md#832-connection-string-configuration)
    - [Connection Pooling Strategy](./8.3-railway-postgresql-deployment.md#833-connection-pooling-strategy)
    - [Prisma Migration Deployment](./8.3-railway-postgresql-deployment.md#834-prisma-migration-deployment)
    - [Migration Rollback Strategy](./8.3-railway-postgresql-deployment.md#835-migration-rollback-strategy)
    - [Environment Variable Management](./8.3-railway-postgresql-deployment.md#836-environment-variable-management)
    - [Database Backup & Recovery](./8.3-railway-postgresql-deployment.md#837-database-backup-recovery)
    - [Database Monitoring](./8.3-railway-postgresql-deployment.md#838-database-monitoring)
    - [Performance Optimization](./8.3-railway-postgresql-deployment.md#839-performance-optimization)
    - [Security Best Practices](./8.3-railway-postgresql-deployment.md#8310-security-best-practices)
    - [Troubleshooting](./8.3-railway-postgresql-deployment.md#8311-troubleshooting)
    - [Cost Estimation](./8.3-railway-postgresql-deployment.md#8312-cost-estimation)
  - [9. Implementation Roadmap](./9-implementation-roadmap.md)
    - [‚ö†Ô∏è CRITICAL PRE-IMPLEMENTATION CHECK](./9-implementation-roadmap.md#critical-pre-implementation-check)
    - [Hour 0-1: Project Setup](./9-implementation-roadmap.md#hour-0-1-project-setup)
    - [Hour 1-2: Onboarding Page](./9-implementation-roadmap.md#hour-1-2-onboarding-page)
    - [Hour 2-3: Homepage UI](./9-implementation-roadmap.md#hour-2-3-homepage-ui)
    - [Hour 3-4: Intermediary Card Page](./9-implementation-roadmap.md#hour-3-4-intermediary-card-page)
    - [Hour 4-5: API Routes](./9-implementation-roadmap.md#hour-4-5-api-routes)
    - [Hour 5-6: Pipeline Modifications](./9-implementation-roadmap.md#hour-5-6-pipeline-modifications)
    - [Hour 6-8: Pipeline Viewer UI](./9-implementation-roadmap.md#hour-6-8-pipeline-viewer-ui)
    - [Hour 8-9: Results Page](./9-implementation-roadmap.md#hour-8-9-results-page)
    - [Hour 9-10: Left Sidebar & Polish](./9-implementation-roadmap.md#hour-9-10-left-sidebar-polish)
    - [Hour 10-11: Testing & Deployment](./9-implementation-roadmap.md#hour-10-11-testing-deployment)
  - [10. Component Specifications (shadcn/ui MCP)](./10-component-specifications-shadcnui-mcp.md)
    - [Use MCP Tool for Rapid Development](./10-component-specifications-shadcnui-mcp.md#use-mcp-tool-for-rapid-development)
  - [11. Coding Standards](./11-coding-standards.md) ‚≠ê **REQUIRED PRE-IMPLEMENTATION READ**
    - [TypeScript & React Standards](./11-coding-standards.md#typescript-react-standards)
    - [Next.js 15 Patterns](./11-coding-standards.md#nextjs-15-patterns)
    - [Error Handling Standards](./11-coding-standards.md#error-handling-standards)
    - [Styling Standards](./11-coding-standards.md#styling-standards)
    - [Security Standards](./11-coding-standards.md#security-standards)
  - [12. Source Tree Navigation Guide](./12-source-tree-guide.md) ‚≠ê **REQUIRED PRE-IMPLEMENTATION READ**
    - [Repository Structure](./12-source-tree-guide.md#repository-structure-high-level)
    - [Next.js App Router](./12-source-tree-guide.md#nextjs-app-router-app)
    - [Component Organization](./12-source-tree-guide.md#components-directory-components)
    - [Common Navigation Scenarios](./12-source-tree-guide.md#common-navigation-scenarios)
  - [13. Integration Test Plan](./13-integration-test-plan.md) üî¥ **CRITICAL - ADDRESSES BLOCKER #1**
    - [Pipeline Regression Test Suite](./13-integration-test-plan.md#1-pipeline-regression-test-suite)
    - [Database Integration Tests](./13-integration-test-plan.md#2-database-integration-tests)
    - [API Integration Tests](./13-integration-test-plan.md#3-api-integration-tests)
    - [Railway Environment Tests](./13-integration-test-plan.md#4-railway-environment-tests)
    - [Test Execution Strategy](./13-integration-test-plan.md#5-test-execution-strategy)
  - [14. Database Migration Strategy](./14-database-migration-strategy.md) üî¥ **CRITICAL - ADDRESSES BLOCKER #2**
    - [Migration Strategy: Hybrid Approach](./14-database-migration-strategy.md#migration-strategy-hybrid-approach)
    - [Backfill Script: Migrate Files to Database](./14-database-migration-strategy.md#backfill-script-migrate-existing-files-to-database)
    - [Rollback Procedure](./14-database-migration-strategy.md#rollback-procedure)
    - [Migration Timeline](./14-database-migration-strategy.md#migration-timeline)
  - [15. Railway Deployment & Rollback](./15-railway-deployment-and-rollback.md) üî¥ **CRITICAL - ADDRESSES BLOCKERS #4 & #5**
    - [Railway Deployment Environment](./15-railway-deployment-and-rollback.md#part-1-railway-deployment-environment-configuration)
    - [Rollback Strategy with Feature Flags](./15-railway-deployment-and-rollback.md#part-2-rollback-strategy-with-feature-flags)
    - [Rollback Procedures](./15-railway-deployment-and-rollback.md#24-rollback-procedures)
    - [Deployment Checklist](./15-railway-deployment-and-rollback.md#part-3-deployment-checklist)
  - [Risk Mitigation](./risk-mitigation.md)
    - [‚ö†Ô∏è Vercel Function Timeout (300s limit)](./risk-mitigation.md#vercel-function-timeout-300s-limit)
  - [Success Metrics](./success-metrics.md)
